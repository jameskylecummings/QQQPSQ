<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_script_client">
    <sys_script_client action="INSERT_OR_UPDATE">
        <active>false</active>
        <applies_extended>false</applies_extended>
        <condition/>
        <description/>
        <field>starting_balance</field>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>StartingBalanceOnChange</name>
        <order/>
        <script><![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {

    if (isLoading || newValue === '') {
        return;
    }
	
	GlideForm.prototype.setCurrencyField = function(fldName, currency, amount) {
	this.setValue(fldName+'.display', amount);
	this.setValue(fldName+'.currency', currency);
	this.setValue(fldName, currency+';'+amount);
	};
			
	//var prev_remaining_balance = g_form.setCurrencyField('remaining_balance', 'USD', //g_form.getValue('remaining_balance'));
	//var remaining_balance =  GR.getValue('remaining_balance') - current.final_cost_non_legacy;
    var prev_remaining_balance =  g_form.getValue('remaining_balance');
    var diff = parseFloat(newValue).toFixed(2) - parseFloat(oldValue).toFixed(2);	
	
	var DiffNewValue = g_form.setCurrencyField(newValue, 'USD', newValue);
	var DiffOldValue = g_form.setCurrencyField(oldValue, 'USD', oldValue);
	
	//var diff = DiffNewValue - DiffOldValue;
	
	//g_form.setValue('remaining_balance', diff);
		
	g_form.setCurrencyField('remaining_balance', 'USD', prev_remaining_balance);
	
	//g_form.setValue('remaining_balance', 'USD', 435);
	
	
	
	
}]]></script>
        <sys_class_name>sys_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-07-07 15:34:45</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>bd7caa44db513010c414ce4e13961999</sys_id>
        <sys_mod_count>75</sys_mod_count>
        <sys_name>StartingBalanceOnChange</sys_name>
        <sys_overrides/>
        <sys_package display_value="Micro Purchase Transactions (MPT)" source="x_561190_micro_p_0">b63654002f3b201063e23f96f699b69e</sys_package>
        <sys_policy/>
        <sys_scope display_value="Micro Purchase Transactions (MPT)">b63654002f3b201063e23f96f699b69e</sys_scope>
        <sys_update_name>sys_script_client_bd7caa44db513010c414ce4e13961999</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-07-08 18:17:43</sys_updated_on>
        <table>x_561190_micro_p_0_fy_opening_balance</table>
        <type>onChange</type>
        <ui_type>0</ui_type>
        <view/>
    </sys_script_client>
</record_update>
